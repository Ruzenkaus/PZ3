@{
    ViewData["Title"] = "Передбачення настрою коментаря";
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<link rel="stylesheet" href="~/css/site.css" />

<div class="container">
    <h1>Передбачення настрою коментаря</h1>

    <p>Введіть коментар для передбачення або донавчіть модель для кращої точності.</p>

    <form method="post" asp-action="Index">
        <label for="comment">Коментар:</label>
        <input type="text" id="comment" name="comment" placeholder="Введіть коментар..." required />
        <button type="submit">Передбачити</button>
    </form>

    <form asp-action="Retrain" method="post">
        <button type="submit" class="btn btn-primary">Донавчити модель</button>
    </form>


    @if (ViewBag.Comment != null)
    {
        <hr />
        <h3>Результат для коментаря: "@ViewBag.Comment"</h3>
        <p><strong>Передбачення:</strong> @ViewBag.Prediction</p>
        <p><strong>Оцінка впевненості:</strong> @ViewBag.Accuracy</p>

        <h3>Чи правильний результат?</h3>
        <form method="post" asp-action="Feedback">
            <input type="hidden" name="comment" value="@ViewBag.Comment" />
            <input type="hidden" name="prediction" value="@ViewBag.Prediction" />
            <button type="submit" name="feedback" value="1">✅ Правильно</button>
            <button type="submit" name="feedback" value="0">❌ Неправильно</button>
        </form>
    }

    @if (ViewBag.Message != null)
    {
        <div class="alert alert-info">
            @ViewBag.Message
        </div>
    }
</div>